!function($,window,undefined){function getPixel(e,t){return parseInt(e.css(t),10)||0}function within(e,t,o){return t>e?t:e>o?o:e}function getViewport(){var e=window,t="inner";return"innerWidth"in window||(t="client",e=document.documentElement||document.body),{width:e[t+"Width"],height:e[t+"Height"]}}function removeHash(){var e=getScrollXY();window.location.hash="",window.scrollTo(e.x,e.y)}function doAjax(e,t){var e="http://ilightbox.net/getSource/jsonp.php?url="+encodeURIComponent(e).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A");$.ajax({url:e,dataType:"jsonp"}),iLCallback=function(e){t.call(this,e)}}function findImageInElement(e){var t=$("*",e),o=new Array;return t.each(function(){var e="",t=this;if("none"!=$(t).css("background-image")?e=$(t).css("background-image"):"undefined"!=typeof $(t).attr("src")&&"img"==t.nodeName.toLowerCase()&&(e=$(t).attr("src")),-1==e.indexOf("gradient")){e=e.replace(/url\(\"/g,""),e=e.replace(/url\(/g,""),e=e.replace(/\"\)/g,""),e=e.replace(/\)/g,"");for(var i=e.split(","),n=0;n<i.length;n++)if(i[n].length>0&&-1==$.inArray(i[n],o)){var r="";browser.msie&&browser.version<9&&(r="?"+floor(3e3*random())),o.push(i[n]+r)}}}),o}function getExtension(e){var t=e.split(".").pop().toLowerCase(),o=-1!==t.indexOf("?")?t.split("?").pop():"";return t.replace(o,"")}function getTypeByExtension(e){var t,o=getExtension(e);return t=-1!==extensions.image.indexOf(o)?"image":-1!==extensions.video.indexOf(o)?"video":"iframe"}function percentToValue(e,t){return parseInt(t/100*e)}function parseURI(e){var t=String(e).replace(/^\s+|\s+$/g,"").match(/^([^:\/?#]+:)?(\/\/(?:[^:@]*(?::[^:@]*)?@)?(([^:\/?#]*)(?::(\d*))?))?([^?#]*)(\?[^#]*)?(#[\s\S]*)?/);return t?{href:t[0]||"",protocol:t[1]||"",authority:t[2]||"",host:t[3]||"",hostname:t[4]||"",port:t[5]||"",pathname:t[6]||"",search:t[7]||"",hash:t[8]||""}:null}function absolutizeURI(e,t){function o(e){var t=[];return e.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^\/]*/g,function(e){"/.."===e?t.pop():t.push(e)}),t.join("").replace(/^\//,"/"===e.charAt(0)?"/":"")}return t=parseURI(t||""),e=parseURI(e||""),t&&e?(t.protocol||e.protocol)+(t.protocol||t.authority?t.authority:e.authority)+o(t.protocol||t.authority||"/"===t.pathname.charAt(0)?t.pathname:t.pathname?(e.authority&&!e.pathname?"/":"")+e.pathname.slice(0,e.pathname.lastIndexOf("/")+1)+t.pathname:e.pathname)+(t.protocol||t.authority||t.pathname?t.search:t.search||e.search)+t.hash:null}function version_compare(e,t,o){this.php_js=this.php_js||{},this.php_js.ENV=this.php_js.ENV||{};var i=0,n=0,r=0,a={dev:-6,alpha:-5,a:-5,beta:-4,b:-4,RC:-3,rc:-3,"#":-2,p:1,pl:1},s=function(e){return e=(""+e).replace(/[_\-+]/g,"."),e=e.replace(/([^.\d]+)/g,".$1.").replace(/\.{2,}/g,"."),e.length?e.split("."):[-8]},l=function(e){return e?isNaN(e)?a[e]||-7:parseInt(e,10):0};for(e=s(e),t=s(t),n=max(e.length,t.length),i=0;n>i;i++)if(e[i]!=t[i]){if(e[i]=l(e[i]),t[i]=l(t[i]),e[i]<t[i]){r=-1;break}if(e[i]>t[i]){r=1;break}}if(!o)return r;switch(o){case">":case"gt":return r>0;case">=":case"ge":return r>=0;case"<=":case"le":return 0>=r;case"==":case"=":case"eq":return 0===r;case"<>":case"!=":case"ne":return 0!==r;case"":case"<":case"lt":return 0>r;default:return null}}function getScrollXY(){var e=0,t=0;return"number"==typeof window.pageYOffset?(t=window.pageYOffset,e=window.pageXOffset):document.body&&(document.body.scrollLeft||document.body.scrollTop)?(t=document.body.scrollTop,e=document.body.scrollLeft):document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)&&(t=document.documentElement.scrollTop,e=document.documentElement.scrollLeft),{x:e,y:t}}function AC_QuickTimeVersion(){return gQTGeneratorVersion}function _QTComplain(e,t){t=t.replace("%%",e),alert(t)}function _QTAddAttribute(e,t,o){var i;return i=gTagAttrs[e+t],null==i&&(i=gTagAttrs[t]),null!=i?(0==t.indexOf(e)&&null==o&&(o=t.substring(e.length)),null==o&&(o=t),o+'="'+i+'" '):""}function _QTAddObjectAttr(e,t){return 0==e.indexOf("emb#")?"":(0==e.indexOf("obj#")&&null==t&&(t=e.substring(4)),_QTAddAttribute("obj#",e,t))}function _QTAddEmbedAttr(e,t){return 0==e.indexOf("obj#")?"":(0==e.indexOf("emb#")&&null==t&&(t=e.substring(4)),_QTAddAttribute("emb#",e,t))}function _QTAddObjectParam(e,t){var o,i="",n=t?" />":">";return-1==e.indexOf("emb#")&&(o=gTagAttrs["obj#"+e],null==o&&(o=gTagAttrs[e]),0==e.indexOf("obj#")&&(e=e.substring(4)),null!=o&&(i='  <param name="'+e+'" value="'+o+'"'+n+"\n")),i}function _QTDeleteTagAttrs(){for(var e=0;e<arguments.length;e++){var t=arguments[e];delete gTagAttrs[t],delete gTagAttrs["emb#"+t],delete gTagAttrs["obj#"+t]}}function _QTGenerate(e,t,o){if(4>o.length||0!=o.length%2)return _QTComplain(e,gArgCountErr),"";gTagAttrs=[],gTagAttrs.src=o[0],gTagAttrs.width=o[1],gTagAttrs.height=o[2],gTagAttrs.classid="clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B",gTagAttrs.pluginspage="http://www.apple.com/quicktime/download/",e=o[3],(null==e||""==e)&&(e="6,0,2,0"),gTagAttrs.codebase="http://www.apple.com/qtactivex/qtplugin.cab#version="+e;for(var i,n=4;n<o.length;n+=2)i=o[n].toLowerCase(),e=o[n+1],"name"==i||"id"==i?gTagAttrs.name=e:gTagAttrs[i]=e;o="<object "+_QTAddObjectAttr("classid")+_QTAddObjectAttr("width")+_QTAddObjectAttr("height")+_QTAddObjectAttr("codebase")+_QTAddObjectAttr("name","id")+_QTAddObjectAttr("tabindex")+_QTAddObjectAttr("hspace")+_QTAddObjectAttr("vspace")+_QTAddObjectAttr("border")+_QTAddObjectAttr("align")+_QTAddObjectAttr("class")+_QTAddObjectAttr("title")+_QTAddObjectAttr("accesskey")+_QTAddObjectAttr("noexternaldata")+">\n"+_QTAddObjectParam("src",t),n="  <embed "+_QTAddEmbedAttr("src")+_QTAddEmbedAttr("width")+_QTAddEmbedAttr("height")+_QTAddEmbedAttr("pluginspage")+_QTAddEmbedAttr("name")+_QTAddEmbedAttr("align")+_QTAddEmbedAttr("tabindex"),_QTDeleteTagAttrs("src","width","height","pluginspage","classid","codebase","name","tabindex","hspace","vspace","border","align","noexternaldata","class","title","accesskey");for(i in gTagAttrs)e=gTagAttrs[i],null!=e&&(n+=_QTAddEmbedAttr(i),o+=_QTAddObjectParam(i,t));return o+n+"> </embed>\n</object>"}function QT_GenerateOBJECTText(){return _QTGenerate("QT_GenerateOBJECTText",!1,arguments)}var extensions={image:["bmp","gif","jpeg","jpg","png","tiff","tif","jfif","jpe"],iframe:["asp","aspx","cgi","cfm","htm","html","jsp","php","pl","php3","php4","php5","phtml","rb","rhtml","shtml","txt"],video:["avi","mov","mpg","mpeg","movie","mp4","webm","ogv","ogg","3gp","m4v"]},$win=$(window),$doc=$(document),browser,transform,gpuAcceleration,fullScreenApi="",supportTouch=!!("ontouchstart"in window)&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),clickEvent=supportTouch?"itap.iLightBox":"click.iLightBox",touchStartEvent=supportTouch?"touchstart.iLightBox":"mousedown.iLightBox",touchStopEvent=supportTouch?"touchend.iLightBox":"mouseup.iLightBox",touchMoveEvent=supportTouch?"touchmove.iLightBox":"mousemove.iLightBox",abs=Math.abs,sqrt=Math.sqrt,round=Math.round,max=Math.max,min=Math.min,floor=Math.floor,random=Math.random,pluginspages={quicktime:"http://www.apple.com/quicktime/download"},iLightBox=function(e,t,o,i){var n=this;if(n.options=t,n.selector=e.selector||e,n.context=e.context,n.instant=i,o.length<1?n.attachItems():n.items=o,n.vars={total:n.items.length,start:0,current:null,next:null,prev:null,BODY:$("body"),loadRequests:0,overlay:$('<div class="ilightbox-overlay"></div>'),loader:$('<div class="ilightbox-loader"><div></div></div>'),toolbar:$('<div class="ilightbox-toolbar"></div>'),innerToolbar:$('<div class="ilightbox-inner-toolbar"></div>'),title:$('<div class="ilightbox-title"></div>'),closeButton:$('<a class="ilightbox-close" title="'+n.options.text.close+'"></a>'),fullScreenButton:$('<a class="ilightbox-fullscreen" title="'+n.options.text.enterFullscreen+'"></a>'),innerPlayButton:$('<a class="ilightbox-play" title="'+n.options.text.slideShow+'"></a>'),innerNextButton:$('<a class="ilightbox-next-button" title="'+n.options.text.next+'"></a>'),innerPrevButton:$('<a class="ilightbox-prev-button" title="'+n.options.text.previous+'"></a>'),holder:$('<div class="ilightbox-holder'+(supportTouch?" supportTouch":"")+'" ondragstart="return false;"><div class="ilightbox-container"></div></div>'),nextPhoto:$('<div class="ilightbox-holder'+(supportTouch?" supportTouch":"")+' ilightbox-next" ondragstart="return false;"><div class="ilightbox-container"></div></div>'),prevPhoto:$('<div class="ilightbox-holder'+(supportTouch?" supportTouch":"")+' ilightbox-prev" ondragstart="return false;"><div class="ilightbox-container"></div></div>'),nextButton:$('<a class="ilightbox-button ilightbox-next-button" ondragstart="return false;" title="'+n.options.text.next+'"><span></span></a>'),prevButton:$('<a class="ilightbox-button ilightbox-prev-button" ondragstart="return false;" title="'+n.options.text.previous+'"><span></span></a>'),thumbnails:$('<div class="ilightbox-thumbnails" ondragstart="return false;"><div class="ilightbox-thumbnails-container"><a class="ilightbox-thumbnails-dragger"></a><div class="ilightbox-thumbnails-grid"></div></div></div>'),thumbs:!1,nextLock:!1,prevLock:!1,hashLock:!1,isMobile:!1,mobileMaxWidth:980,isInFullScreen:!1,isSwipe:!1,mouseID:0,cycleID:0,isPaused:0},n.vars.hideableElements=n.vars.nextButton.add(n.vars.prevButton),n.normalizeItems(),n.availPlugins(),n.options.startFrom=n.options.startFrom>0&&n.options.startFrom>=n.vars.total?n.vars.total-1:n.options.startFrom,n.options.startFrom=n.options.randomStart?floor(random()*n.vars.total):n.options.startFrom,n.vars.start=n.options.startFrom,i?n.instantCall():n.patchItemsEvents(),n.options.linkId&&(n.hashChangeHandler(),$win.iLightBoxHashChange(function(){n.hashChangeHandler()})),supportTouch){var r=/(click|mouseenter|mouseleave|mouseover|mouseout)/gi,a="itap";n.options.caption.show=n.options.caption.show.replace(r,a),n.options.caption.hide=n.options.caption.hide.replace(r,a),n.options.social.show=n.options.social.show.replace(r,a),n.options.social.hide=n.options.social.hide.replace(r,a)}n.options.controls.arrows&&$.extend(n.options.styles,{nextOffsetX:0,prevOffsetX:0,nextOpacity:0,prevOpacity:0})};iLightBox.prototype={showLoader:function(){var e=this;e.vars.loadRequests+=1,"horizontal"==e.options.path.toLowerCase()?e.vars.loader.stop().animate({top:"-30px"},e.options.show.speed,"easeOutCirc"):e.vars.loader.stop().animate({left:"-30px"},e.options.show.speed,"easeOutCirc")},hideLoader:function(){var e=this;e.vars.loadRequests-=1,e.vars.loadRequests=e.vars.loadRequests<0?0:e.vars.loadRequests,"horizontal"==e.options.path.toLowerCase()?e.vars.loadRequests<=0&&e.vars.loader.stop().animate({top:"-192px"},e.options.show.speed,"easeInCirc"):e.vars.loadRequests<=0&&e.vars.loader.stop().animate({left:"-192px"},e.options.show.speed,"easeInCirc")},createUI:function(){var e=this;e.ui={currentElement:e.vars.holder,nextElement:e.vars.nextPhoto,prevElement:e.vars.prevPhoto,currentItem:e.vars.current,nextItem:e.vars.next,prevItem:e.vars.prev,hide:function(){e.closeAction()},refresh:function(){arguments.length>0?e.repositionPhoto(!0):e.repositionPhoto()},fullscreen:function(){e.fullScreenAction()}}},attachItems:function(){var iL=this,itemsObject=new Array,items=new Array;$(iL.selector,iL.context).each(function(){var t=$(this),URL=t.attr(iL.options.attr)||null,options=t.data("options")&&eval("({"+t.data("options")+"})")||{},caption=t.data("caption"),title=t.data("title"),type=t.data("type")||getTypeByExtension(URL);items.push({URL:URL,caption:caption,title:title,type:type,options:options}),iL.instant||itemsObject.push(t)}),iL.items=items,iL.itemsObject=itemsObject},normalizeItems:function(){var e=this,t=new Array;$.each(e.items,function(o,i){"string"==typeof i&&(i={url:i});var n=i.url||i.URL||null,r=i.options||{},a=i.caption||null,s=i.title||null,l=i.type?i.type.toLowerCase():getTypeByExtension(n),c="object"!=typeof n?getExtension(n):"";r.thumbnail=r.thumbnail||("image"==l?n:null),r.videoType=r.videoType||null,r.skin=r.skin||e.options.skin,r.width=r.width||null,r.height=r.height||null,r.mousewheel="undefined"!=typeof r.mousewheel?r.mousewheel:!0,r.swipe="undefined"!=typeof r.swipe?r.swipe:!0,r.social="undefined"!=typeof r.social?r.social:e.options.social.buttons&&$.extend({},{},e.options.social.buttons),"video"==l&&(r.html5video="undefined"!=typeof r.html5video?r.html5video:{},r.html5video.webm=r.html5video.webm||r.html5video.WEBM||null,r.html5video.controls="undefined"!=typeof r.html5video.controls?r.html5video.controls:"controls",r.html5video.preload=r.html5video.preload||"metadata",r.html5video.autoplay="undefined"!=typeof r.html5video.autoplay?r.html5video.autoplay:!1),r.width&&r.height||("video"==l?(r.width=1280,r.height=720):"iframe"==l&&(r.width="100%",r.height="90%")),delete i.url,i.index=o,i.URL=n,i.caption=a,i.title=s,i.type=l,i.options=r,i.ext=c,t.push(i)}),e.items=t},instantCall:function(){var e=this,t=e.vars.start;e.vars.current=t,e.vars.next=e.items[t+1]?t+1:null,e.vars.prev=e.items[t-1]?t-1:null,e.addContents(),e.patchEvents()},addContents:function(){var e=this,t=e.vars,o=e.options,i=getViewport(),n=o.path.toLowerCase(),r=t.total>0&&e.items.filter(function(e){return-1===["image","video"].indexOf(e.type)&&"undefined"==typeof e.recognized&&(o.smartRecognition||e.options.smartRecognition)}),a=r.length>0;o.mobileOptimizer&&!o.innerToolbar&&(t.isMobile=i.width<=t.mobileMaxWidth),t.overlay.addClass(o.skin).hide().css("opacity",o.overlay.opacity),o.linkId&&t.overlay[0].setAttribute("linkid",o.linkId),o.controls.toolbar&&(t.toolbar.addClass(o.skin).append(t.closeButton),o.controls.fullscreen&&t.toolbar.append(t.fullScreenButton),o.controls.slideshow&&t.toolbar.append(t.innerPlayButton),t.total>1&&t.toolbar.append(t.innerPrevButton).append(t.innerNextButton)),t.BODY.addClass("ilightbox-noscroll").append(t.overlay).append(t.loader).append(t.holder).append(t.nextPhoto).append(t.prevPhoto),o.innerToolbar||t.BODY.append(t.toolbar),o.controls.arrows&&t.BODY.append(t.nextButton).append(t.prevButton),o.controls.thumbnail&&t.total>1&&(t.BODY.append(t.thumbnails),t.thumbnails.addClass(o.skin).addClass("ilightbox-"+n),$("div.ilightbox-thumbnails-grid",t.thumbnails).empty(),t.thumbs=!0);var s="horizontal"==o.path.toLowerCase()?{left:parseInt(i.width/2-t.loader.outerWidth()/2)}:{top:parseInt(i.height/2-t.loader.outerHeight()/2)};t.loader.addClass(o.skin).css(s),t.nextButton.add(t.prevButton).addClass(o.skin),"horizontal"==n&&t.loader.add(t.nextButton).add(t.prevButton).addClass("horizontal"),t.BODY[t.isMobile?"addClass":"removeClass"]("isMobile"),o.infinite||(t.prevButton.add(t.prevButton).add(t.innerPrevButton).add(t.innerNextButton).removeClass("disabled"),0==t.current&&t.prevButton.add(t.innerPrevButton).addClass("disabled"),t.current>=t.total-1&&t.nextButton.add(t.innerNextButton).addClass("disabled")),o.show.effect?(t.overlay.stop().fadeIn(o.show.speed),t.toolbar.stop().fadeIn(o.show.speed)):(t.overlay.show(),t.toolbar.show());var l=r.length;a?(e.showLoader(),$.each(r,function(){var i=function(i){var n=-1,r=(e.items.filter(function(e,t){return e.URL==i.url&&(n=t),e.URL==i.url}),e.items[n]);i&&$.extend(!0,r,{URL:i.source,type:i.type,recognized:!0,options:{html5video:i.html5video,width:"image"==i.type?0:i.width||r.width,height:"image"==i.type?0:i.height||r.height,thumbnail:r.options.thumbnail||i.thumbnail}}),l--,0==l&&(e.hideLoader(),t.dontGenerateThumbs=!1,e.generateThumbnails(),o.show.effect?setTimeout(function(){e.generateBoxes()},o.show.speed):e.generateBoxes())};e.ogpRecognition(this,i)})):o.show.effect?setTimeout(function(){e.generateBoxes()},o.show.speed):e.generateBoxes(),e.createUI(),window.iLightBox={close:function(){e.closeAction()},fullscreen:function(){e.fullScreenAction()},moveNext:function(){e.moveTo("next")},movePrev:function(){e.moveTo("prev")},goTo:function(t){e.goTo(t)},refresh:function(){e.refresh()},reposition:function(){arguments.length>0?e.repositionPhoto(!0):e.repositionPhoto()},setOption:function(t){e.setOption(t)},destroy:function(){e.closeAction(),e.dispatchItemsEvents()}},o.linkId&&(t.hashLock=!0,window.location.hash=o.linkId+"/"+t.current,setTimeout(function(){t.hashLock=!1},55)),o.slideshow.startPaused||(e.resume(),t.innerPlayButton.removeClass("ilightbox-play").addClass("ilightbox-pause")),"function"==typeof e.options.callback.onOpen&&e.options.callback.onOpen.call(e)},loadContent:function(e,t,o){var i,n,r=this;switch(r.createUI(),e.speed=o||r.options.effects.loadedFadeSpeed,"current"==t&&(r.vars.lockWheel=e.options.mousewheel?!1:!0,r.vars.lockSwipe=e.options.swipe?!1:!0),t){case"current":i=r.vars.holder,n=r.vars.current;break;case"next":i=r.vars.nextPhoto,n=r.vars.next;break;case"prev":i=r.vars.prevPhoto,n=r.vars.prev}if(i.removeAttr("style class").addClass("ilightbox-holder"+(supportTouch?" supportTouch":"")).addClass(e.options.skin),$("div.ilightbox-inner-toolbar",i).remove(),e.title||r.options.innerToolbar){var a=r.vars.innerToolbar.clone();if(e.title&&r.options.show.title){var s=r.vars.title.clone();s.empty().html(e.title),a.append(s)}r.options.innerToolbar&&a.append(r.vars.total>1?r.vars.toolbar.clone():r.vars.toolbar),i.prepend(a)}r.loadSwitcher(e,i,n,t)},loadSwitcher:function(e,t,o,i){var n=this,r=n.options,a={element:t,position:o};switch(e.type){case"image":"function"==typeof r.callback.onBeforeLoad&&r.callback.onBeforeLoad.call(n,n.ui,o),"function"==typeof e.options.onBeforeLoad&&e.options.onBeforeLoad.call(n,a),n.loadImage(e.URL,function(s){"function"==typeof r.callback.onAfterLoad&&r.callback.onAfterLoad.call(n,n.ui,o),"function"==typeof e.options.onAfterLoad&&e.options.onAfterLoad.call(n,a);var l=s?s.width:400,c=s?s.height:200;t.data({naturalWidth:l,naturalHeight:c}),$("div.ilightbox-container",t).empty().append(s?'<img src="'+e.URL+'" class="ilightbox-image" />':'<span class="ilightbox-alert">'+r.errors.loadImage+"</span>"),"function"==typeof r.callback.onRender&&r.callback.onRender.call(n,n.ui,o),"function"==typeof e.options.onRender&&e.options.onRender.call(n,a),n.configureHolder(e,i,t)});break;case"video":t.data({naturalWidth:e.options.width,naturalHeight:e.options.height}),n.addContent(t,e),"function"==typeof r.callback.onRender&&r.callback.onRender.call(n,n.ui,o),"function"==typeof e.options.onRender&&e.options.onRender.call(n,a),n.configureHolder(e,i,t);break;case"iframe":n.showLoader(),t.data({naturalWidth:e.options.width,naturalHeight:e.options.height});var s=n.addContent(t,e);"function"==typeof r.callback.onRender&&r.callback.onRender.call(n,n.ui,o),"function"==typeof e.options.onRender&&e.options.onRender.call(n,a),"function"==typeof r.callback.onBeforeLoad&&r.callback.onBeforeLoad.call(n,n.ui,o),"function"==typeof e.options.onBeforeLoad&&e.options.onBeforeLoad.call(n,a),s.bind("load",function(){"function"==typeof r.callback.onAfterLoad&&r.callback.onAfterLoad.call(n,n.ui,o),"function"==typeof e.options.onAfterLoad&&e.options.onAfterLoad.call(n,a),n.hideLoader(),n.configureHolder(e,i,t),s.unbind("load")});break;case"inline":var s=$(e.URL),l=n.addContent(t,e),c=findImageInElement(t);t.data({naturalWidth:n.items[o].options.width||s.outerWidth(),naturalHeight:n.items[o].options.height||s.outerHeight()}),l.children().eq(0).show(),"function"==typeof r.callback.onRender&&r.callback.onRender.call(n,n.ui,o),"function"==typeof e.options.onRender&&e.options.onRender.call(n,a),"function"==typeof r.callback.onBeforeLoad&&r.callback.onBeforeLoad.call(n,n.ui,o),"function"==typeof e.options.onBeforeLoad&&e.options.onBeforeLoad.call(n,a),n.loadImage(c,function(){"function"==typeof r.callback.onAfterLoad&&r.callback.onAfterLoad.call(n,n.ui,o),"function"==typeof e.options.onAfterLoad&&e.options.onAfterLoad.call(n,a),n.configureHolder(e,i,t)});break;case"ajax":var u=e.options.ajax||{};"function"==typeof r.callback.onBeforeLoad&&r.callback.onBeforeLoad.call(n,n.ui,o),"function"==typeof e.options.onBeforeLoad&&e.options.onBeforeLoad.call(n,a),n.showLoader(),$.ajax({url:e.URL||r.ajaxSetup.url,data:u.data||null,dataType:u.dataType||"html",type:u.type||r.ajaxSetup.type,cache:u.cache||r.ajaxSetup.cache,crossDomain:u.crossDomain||r.ajaxSetup.crossDomain,global:u.global||r.ajaxSetup.global,ifModified:u.ifModified||r.ajaxSetup.ifModified,username:u.username||r.ajaxSetup.username,password:u.password||r.ajaxSetup.password,beforeSend:u.beforeSend||r.ajaxSetup.beforeSend,complete:u.complete||r.ajaxSetup.complete,success:function(s,l,c){n.hideLoader();var d=$(s),h=$("div.ilightbox-container",t),p=n.items[o].options.width||parseInt(d[0].getAttribute("width")),f=n.items[o].options.height||parseInt(d[0].getAttribute("height")),g=d[0].getAttribute("width")&&d[0].getAttribute("height")?{overflow:"hidden"}:{};h.empty().append($('<div class="ilightbox-wrapper"></div>').css(g).html(d)),t.show().data({naturalWidth:p||h.outerWidth(),naturalHeight:f||h.outerHeight()}).hide(),"function"==typeof r.callback.onRender&&r.callback.onRender.call(n,n.ui,o),"function"==typeof e.options.onRender&&e.options.onRender.call(n,a);var m=findImageInElement(t);n.loadImage(m,function(){"function"==typeof r.callback.onAfterLoad&&r.callback.onAfterLoad.call(n,n.ui,o),"function"==typeof e.options.onAfterLoad&&e.options.onAfterLoad.call(n,a),n.configureHolder(e,i,t)}),r.ajaxSetup.success(s,l,c),"function"==typeof u.success&&u.success(s,l,c)},error:function(s,l,c){"function"==typeof r.callback.onAfterLoad&&r.callback.onAfterLoad.call(n,n.ui,o),"function"==typeof e.options.onAfterLoad&&e.options.onAfterLoad.call(n,a),n.hideLoader(),$("div.ilightbox-container",t).empty().append('<span class="ilightbox-alert">'+r.errors.loadContents+"</span>"),n.configureHolder(e,i,t),r.ajaxSetup.error(s,l,c),"function"==typeof u.error&&u.error(s,l,c)}});break;case"html":var s,d=e.URL;if(container=$("div.ilightbox-container",t),d[0].nodeName)s=d.clone();else{var h=$(d);s=h.selector?$("<div>"+h+"</div>"):h}var p=n.items[o].options.width||parseInt(s.attr("width")),f=n.items[o].options.height||parseInt(s.attr("height"));n.addContent(t,e),s.appendTo(document.documentElement).hide(),"function"==typeof r.callback.onRender&&r.callback.onRender.call(n,n.ui,o),"function"==typeof e.options.onRender&&e.options.onRender.call(n,a);var c=findImageInElement(t);"function"==typeof r.callback.onBeforeLoad&&r.callback.onBeforeLoad.call(n,n.ui,o),"function"==typeof e.options.onBeforeLoad&&e.options.onBeforeLoad.call(n,a),n.loadImage(c,function(){"function"==typeof r.callback.onAfterLoad&&r.callback.onAfterLoad.call(n,n.ui,o),"function"==typeof e.options.onAfterLoad&&e.options.onAfterLoad.call(n,a),t.show().data({naturalWidth:p||container.outerWidth(),naturalHeight:f||container.outerHeight()}).hide(),s.remove(),n.configureHolder(e,i,t)})}},configureHolder:function(e,t,o){var i=this,n=i.vars,r=i.options;if("current"!=t&&o.addClass("next"==t?"ilightbox-next":"ilightbox-prev"),"current"==t)var a=n.current;else if("next"==t)var s=r.styles.nextOpacity,a=n.next;else var s=r.styles.prevOpacity,a=n.prev;var l={element:o,position:a};i.items[a].options.width=i.items[a].options.width||0,i.items[a].options.height=i.items[a].options.height||0,"current"==t?r.show.effect?o.css(transform,gpuAcceleration).fadeIn(e.speed,function(){if(o.css(transform,""),e.caption){i.setCaption(e,o);var t=$("div.ilightbox-caption",o),n=parseInt(t.outerHeight()/o.outerHeight()*100);r.caption.start&50>=n&&t.fadeIn(r.effects.fadeSpeed)}var s=e.options.social;s&&(i.setSocial(s,e.URL,o),r.social.start&&$("div.ilightbox-social",o).fadeIn(r.effects.fadeSpeed)),i.generateThumbnails(),"function"==typeof r.callback.onShow&&r.callback.onShow.call(i,i.ui,a),"function"==typeof e.options.onShow&&e.options.onShow.call(i,l)}):(o.show(),i.generateThumbnails(),"function"==typeof r.callback.onShow&&r.callback.onShow.call(i,i.ui,a),"function"==typeof e.options.onShow&&e.options.onShow.call(i,l)):r.show.effect?o.fadeTo(e.speed,s,function(){"next"==t?n.nextLock=!1:n.prevLock=!1,i.generateThumbnails(),"function"==typeof r.callback.onShow&&r.callback.onShow.call(i,i.ui,a),"function"==typeof e.options.onShow&&e.options.onShow.call(i,l)}):(o.css({opacity:s}).show(),"next"==t?n.nextLock=!1:n.prevLock=!1,i.generateThumbnails(),"function"==typeof r.callback.onShow&&r.callback.onShow.call(i,i.ui,a),"function"==typeof e.options.onShow&&e.options.onShow.call(i,l)),setTimeout(function(){i.repositionPhoto()},0)},generateBoxes:function(){var e=this,t=e.vars,o=e.options;o.infinite&&t.total>=3?(t.current==t.total-1&&(t.next=0),0==t.current&&(t.prev=t.total-1)):o.infinite=!1,e.loadContent(e.items[t.current],"current",o.show.speed),e.items[t.next]&&e.loadContent(e.items[t.next],"next",o.show.speed),e.items[t.prev]&&e.loadContent(e.items[t.prev],"prev",o.show.speed)},generateThumbnails:function(){var e=this,t=e.vars,o=e.options,i=null;if(t.thumbs&&!e.vars.dontGenerateThumbs){var n=t.thumbnails,r=$("div.ilightbox-thumbnails-container",n),a=$("div.ilightbox-thumbnails-grid",r),s=0;a.removeAttr("style").empty(),$.each(e.items,function(l,c){var u=t.current==l?"ilightbox-active":"",d=t.current==l?o.thumbnails.activeOpacity:o.thumbnails.normalOpacity,h=c.options.thumbnail,p=$('<div class="ilightbox-thumbnail"></div>'),f=$('<div class="ilightbox-thumbnail-icon"></div>');p.css({opacity:0}).addClass(u),"video"==c.type&&"undefined"==typeof c.options.icon?(f.addClass("ilightbox-thumbnail-video"),p.append(f)):c.options.icon&&(f.addClass("ilightbox-thumbnail-"+c.options.icon),p.append(f)),h&&e.loadImage(h,function(t){s++,t?p.data({naturalWidth:t.width,naturalHeight:t.height}).append('<img src="'+h+'" border="0" />'):p.data({naturalWidth:o.thumbnails.maxWidth,naturalHeight:o.thumbnails.maxHeight}),clearTimeout(i),i=setTimeout(function(){e.positionThumbnails(n,r,a)},20),setTimeout(function(){p.fadeTo(o.effects.loadedFadeSpeed,d)},20*s)}),a.append(p)}),e.vars.dontGenerateThumbs=!0}},positionThumbnails:function(e,t,o){var i=this,n=i.vars,r=i.options,a=getViewport(),s=r.path.toLowerCase();e||(e=n.thumbnails),t||(t=$("div.ilightbox-thumbnails-container",e)),o||(o=$("div.ilightbox-thumbnails-grid",t));var l=$(".ilightbox-thumbnail",o),c="horizontal"==s?a.width-r.styles.pageOffsetX:l.eq(0).outerWidth()-r.styles.pageOffsetX,u="horizontal"==s?l.eq(0).outerHeight()-r.styles.pageOffsetY:a.height-r.styles.pageOffsetY,d="horizontal"==s?0:c,h="horizontal"==s?u:0,p=$(".ilightbox-active",o),f={};arguments.length<3&&(l.css({opacity:r.thumbnails.normalOpacity}),p.css({opacity:r.thumbnails.activeOpacity})),l.each(function(){var e=$(this),t=e.data(),o="horizontal"==s?0:r.thumbnails.maxWidth;height="horizontal"==s?r.thumbnails.maxHeight:0,dims=i.getNewDimenstions(o,height,t.naturalWidth,t.naturalHeight,!0),e.css({width:dims.width,height:dims.height}),"horizontal"==s&&e.css({"float":"left"}),"horizontal"==s?d+=e.outerWidth():h+=e.outerHeight()}),f={width:d,height:h},o.css(f),f={};var g=o.offset(),m=p.length?p.offset():{top:parseInt(u/2),left:parseInt(c/2)};g.top=g.top-$doc.scrollTop(),g.left=g.left-$doc.scrollLeft(),m.top=m.top-g.top-$doc.scrollTop(),m.left=m.left-g.left-$doc.scrollLeft(),"horizontal"==s?(f.top=0,f.left=parseInt(c/2-m.left-p.outerWidth()/2)):(f.top=parseInt(u/2-m.top-p.outerHeight()/2),f.left=0),arguments.length<3?o.stop().animate(f,r.effects.repositionSpeed,"easeOutCirc"):o.css(f)},loadImage:function(e,t){$.isArray(e)||(e=[e]);var o=this,i=e.length;i>0?(o.showLoader(),$.each(e,function(n){var r=new Image;r.onload=function(){i-=1,0==i&&(o.hideLoader(),t(r))},r.onerror=r.onabort=function(){i-=1,0==i&&(o.hideLoader(),t(!1))},r.src=e[n]})):t(!1)},patchItemsEvents:function(){var e=this,t=e.vars,o=supportTouch?"itap.iL":"click.iL",i=supportTouch?"click.iL":"itap.iL";if(e.context&&e.selector){var n=$(e.selector,e.context);$(e.context).on(o,e.selector,function(){var o=$(this),i=n.index(o);return t.current=i,t.next=e.items[i+1]?i+1:null,t.prev=e.items[i-1]?i-1:null,e.addContents(),e.patchEvents(),!1}).on(i,e.selector,function(){return!1})}else $.each(e.itemsObject,function(n,r){r.on(o,function(){return t.current=n,t.next=e.items[n+1]?n+1:null,t.prev=e.items[n-1]?n-1:null,e.addContents(),e.patchEvents(),!1}).on(i,function(){return!1})})},dispatchItemsEvents:function(){{var e=this;e.vars,e.options}e.context&&e.selector?$(e.context).off(".iL",e.selector):$.each(e.itemsObject,function(e,t){t.off(".iL")})},refresh:function(){var e=this;e.dispatchItemsEvents(),e.attachItems(),e.normalizeItems(),e.patchItemsEvents()},patchEvents:function(){function e(e){o.isMobile||(o.mouseID||o.hideableElements.show(),o.mouseID=clearTimeout(o.mouseID),-1===c.indexOf(e.target)&&(o.mouseID=setTimeout(function(){o.hideableElements.hide(),o.mouseID=clearTimeout(o.mouseID)},3e3)))}var t=this,o=t.vars,i=t.options,n=i.path.toLowerCase(),r=$(".ilightbox-holder"),a=fullScreenApi.fullScreenEventName+".iLightBox",s=1e3,l=verticalDistanceThreshold=100,c=[o.nextButton[0],o.prevButton[0],o.nextButton[0].firstChild,o.prevButton[0].firstChild];$win.bind("resize.iLightBox",function(){var e=getViewport();i.mobileOptimizer&&!i.innerToolbar&&(o.isMobile=e.width<=o.mobileMaxWidth),o.BODY[o.isMobile?"addClass":"removeClass"]("isMobile"),t.repositionPhoto(null),supportTouch&&(clearTimeout(o.setTime),o.setTime=setTimeout(function(){var e=getScrollXY().y;window.scrollTo(0,e-30),window.scrollTo(0,e+30),window.scrollTo(0,e)},2e3)),o.thumbs&&t.positionThumbnails()}).bind("keydown.iLightBox",function(e){if(i.controls.keyboard)switch(e.keyCode){case 13:e.shiftKey&&i.keyboard.shift_enter&&t.fullScreenAction();break;case 27:i.keyboard.esc&&t.closeAction();break;case 37:i.keyboard.left&&!o.lockKey&&t.moveTo("prev");break;case 38:i.keyboard.up&&!o.lockKey&&t.moveTo("prev");break;case 39:i.keyboard.right&&!o.lockKey&&t.moveTo("next");break;case 40:i.keyboard.down&&!o.lockKey&&t.moveTo("next")}}),fullScreenApi.supportsFullScreen&&$win.bind(a,function(){t.doFullscreen()});var u=[i.caption.show+".iLightBox",i.caption.hide+".iLightBox",i.social.show+".iLightBox",i.social.hide+".iLightBox"].filter(function(e,t,o){return o.lastIndexOf(e)===t}),d="";$.each(u,function(e,t){0!=e&&(d+=" "),d+=t}),$doc.on(clickEvent,".ilightbox-overlay",function(){i.overlay.blur&&t.closeAction()}).on(clickEvent,".ilightbox-next, .ilightbox-next-button",function(){t.moveTo("next")}).on(clickEvent,".ilightbox-prev, .ilightbox-prev-button",function(){t.moveTo("prev")}).on(clickEvent,".ilightbox-thumbnail",function(){var e=$(this),i=$(".ilightbox-thumbnail",o.thumbnails),n=i.index(e);n!=o.current&&t.goTo(n)}).on(d,".ilightbox-holder:not(.ilightbox-next, .ilightbox-prev)",function(e){var t=$("div.ilightbox-caption",o.holder),n=$("div.ilightbox-social",o.holder),r=i.effects.fadeSpeed;o.nextLock||o.prevLock?(e.type!=i.caption.show||t.is(":visible")?e.type==i.caption.hide&&t.is(":visible")&&t.fadeOut(r):t.fadeIn(r),e.type!=i.social.show||n.is(":visible")?e.type==i.social.hide&&n.is(":visible")&&n.fadeOut(r):n.fadeIn(r)):(e.type!=i.caption.show||t.is(":visible")?e.type==i.caption.hide&&t.is(":visible")&&t.stop().fadeOut(r):t.stop().fadeIn(r),e.type!=i.social.show||n.is(":visible")?e.type==i.social.hide&&n.is(":visible")&&n.stop().fadeOut(r):n.stop().fadeIn(r))}).on("mouseenter.iLightBox mouseleave.iLightBox",".ilightbox-wrapper",function(e){o.lockWheel="mouseenter"==e.type?!0:!1}).on(clickEvent,".ilightbox-toolbar a.ilightbox-close, .ilightbox-toolbar a.ilightbox-fullscreen, .ilightbox-toolbar a.ilightbox-play, .ilightbox-toolbar a.ilightbox-pause",function(){var e=$(this);e.hasClass("ilightbox-fullscreen")?t.fullScreenAction():e.hasClass("ilightbox-play")?(t.resume(),e.addClass("ilightbox-pause").removeClass("ilightbox-play")):e.hasClass("ilightbox-pause")?(t.pause(),e.addClass("ilightbox-play").removeClass("ilightbox-pause")):t.closeAction()}).on(touchMoveEvent,".ilightbox-overlay, .ilightbox-thumbnails-container",function(e){e.preventDefault()}),i.controls.arrows&&!supportTouch&&$doc.on("mousemove.iLightBox",e),i.controls.slideshow&&i.slideshow.pauseOnHover&&$doc.on("mouseenter.iLightBox mouseleave.iLightBox",".ilightbox-holder:not(.ilightbox-next, .ilightbox-prev)",function(e){"mouseenter"==e.type&&o.cycleID?t.pause():"mouseleave"==e.type&&o.isPaused&&t.resume()
});var h=$(".ilightbox-overlay, .ilightbox-holder, .ilightbox-thumbnails");i.controls.mousewheel&&h.on("mousewheel.iLightBox",function(e,i){o.lockWheel||(e.preventDefault(),0>i?t.moveTo("next"):i>0&&t.moveTo("prev"))}),i.controls.swipe&&r.on(touchStartEvent,function(e){function a(e){var t=$(this),o=m[e],i=[v.coords[0]-d.coords[0],v.coords[1]-d.coords[1]];t[0].style["horizontal"==n?"left":"top"]=("horizontal"==n?o.left-i[0]:o.top-i[1])+"px"}function c(e){if(v){var t=e.originalEvent.touches?e.originalEvent.touches[0]:e;d={time:(new Date).getTime(),coords:[t.pageX-f,t.pageY-p]},r.each(a),e.preventDefault()}}function u(){r.each(function(){var e=$(this),t=e.data("offset")||{top:e.offset().top-p,left:e.offset().left-f},o=t.top,i=t.left;e.css(transform,gpuAcceleration).stop().animate({top:o,left:i},500,"easeOutCirc",function(){e.css(transform,"")})})}if(!(o.nextLock||o.prevLock||1==o.total||o.lockSwipe)){o.BODY.addClass("ilightbox-closedhand");var d,h=e.originalEvent.touches?e.originalEvent.touches[0]:e,p=$doc.scrollTop(),f=$doc.scrollLeft(),g=[r.eq(0).offset(),r.eq(1).offset(),r.eq(2).offset()],m=[{top:g[0].top-p,left:g[0].left-f},{top:g[1].top-p,left:g[1].left-f},{top:g[2].top-p,left:g[2].left-f}],v={time:(new Date).getTime(),coords:[h.pageX-f,h.pageY-p]};r.bind(touchMoveEvent,c),$doc.one(touchStopEvent,function(){r.unbind(touchMoveEvent,c),o.BODY.removeClass("ilightbox-closedhand"),v&&d&&("horizontal"==n&&d.time-v.time<s&&abs(v.coords[0]-d.coords[0])>l&&abs(v.coords[1]-d.coords[1])<verticalDistanceThreshold?v.coords[0]>d.coords[0]?o.current!=o.total-1||i.infinite?(o.isSwipe=!0,t.moveTo("next")):u():0!=o.current||i.infinite?(o.isSwipe=!0,t.moveTo("prev")):u():"vertical"==n&&d.time-v.time<s&&abs(v.coords[1]-d.coords[1])>l&&abs(v.coords[0]-d.coords[0])<verticalDistanceThreshold?v.coords[1]>d.coords[1]?o.current!=o.total-1||i.infinite?(o.isSwipe=!0,t.moveTo("next")):u():0!=o.current||i.infinite?(o.isSwipe=!0,t.moveTo("prev")):u():u()),v=d=undefined})}})},goTo:function(e){var t=this,o=t.vars,i=t.options,n=e-o.current;if(i.infinite&&(e==o.total-1&&0==o.current&&(n=-1),o.current==o.total-1&&0==e&&(n=1)),1==n)t.moveTo("next");else if(-1==n)t.moveTo("prev");else{if(o.nextLock||o.prevLock)return!1;"function"==typeof i.callback.onBeforeChange&&i.callback.onBeforeChange.call(t,t.ui),i.linkId&&(o.hashLock=!0,window.location.hash=i.linkId+"/"+e),t.items[e]&&(t.items[e].options.mousewheel?t.vars.lockWheel=!1:o.lockWheel=!0,o.lockSwipe=t.items[e].options.swipe?!1:!0),$.each([o.holder,o.nextPhoto,o.prevPhoto],function(e,t){t.css(transform,gpuAcceleration).fadeOut(i.effects.loadedFadeSpeed)}),o.current=e,o.next=e+1,o.prev=e-1,t.createUI(),setTimeout(function(){t.generateBoxes()},i.effects.loadedFadeSpeed+50),$(".ilightbox-thumbnail",o.thumbnails).removeClass("ilightbox-active").eq(e).addClass("ilightbox-active"),t.positionThumbnails(),i.linkId&&setTimeout(function(){o.hashLock=!1},55),i.infinite||(o.nextButton.add(o.prevButton).add(o.innerPrevButton).add(o.innerNextButton).removeClass("disabled"),0==o.current&&o.prevButton.add(o.innerPrevButton).addClass("disabled"),o.current>=o.total-1&&o.nextButton.add(o.innerNextButton).addClass("disabled")),t.resetCycle(),"function"==typeof i.callback.onAfterChange&&i.callback.onAfterChange.call(t,t.ui)}},moveTo:function(e){var t=this,o=t.vars,i=t.options,n=i.path.toLowerCase(),r=getViewport(),a=i.effects.switchSpeed;if(o.nextLock||o.prevLock)return!1;var s="next"==e?o.next:o.prev;if(i.linkId&&(o.hashLock=!0,window.location.hash=i.linkId+"/"+s),"next"==e){if(!t.items[s])return!1;var l=o.nextPhoto,c=o.holder,u=o.prevPhoto,d="ilightbox-prev",h="ilightbox-next"}else if("prev"==e){if(!t.items[s])return!1;var l=o.prevPhoto,c=o.holder,u=o.nextPhoto,d="ilightbox-next",h="ilightbox-prev"}"function"==typeof i.callback.onBeforeChange&&i.callback.onBeforeChange.call(t,t.ui),"next"==e?o.nextLock=!0:o.prevLock=!0;var p=$("div.ilightbox-caption",c),f=$("div.ilightbox-social",c);if(p.length&&p.stop().fadeOut(a,function(){$(this).remove()}),f.length&&f.stop().fadeOut(a,function(){$(this).remove()}),t.items[s].caption){t.setCaption(t.items[s],l);var g=$("div.ilightbox-caption",l),m=parseInt(g.outerHeight()/l.outerHeight()*100);i.caption.start&&50>=m&&g.fadeIn(a)}var v=t.items[s].options.social;v&&(t.setSocial(v,t.items[s].URL,l),i.social.start&&$("div.ilightbox-social",l).fadeIn(i.effects.fadeSpeed)),$.each([l,c,u],function(e,t){t.removeClass("ilightbox-next ilightbox-prev")});var b=l.data("offset"),x=r.width-i.styles.pageOffsetX,w=r.height-i.styles.pageOffsetY,y=b.newDims.width,S=b.newDims.height,T=b.thumbsOffset,L=b.diff,k=parseInt(w/2-S/2-L.H-T.H/2),A=parseInt(x/2-y/2-L.W-T.W/2);l.css(transform,gpuAcceleration).animate({top:k,left:A,opacity:1},a,o.isSwipe?"easeOutCirc":"easeInOutCirc",function(){l.css(transform,"")}),$("div.ilightbox-container",l).animate({width:y,height:S},a,o.isSwipe?"easeOutCirc":"easeInOutCirc");var I=c.data("offset"),C=I.object;L=I.diff,y=I.newDims.width,S=I.newDims.height,y=parseInt(y*i.styles["next"==e?"prevScale":"nextScale"]),S=parseInt(S*i.styles["next"==e?"prevScale":"nextScale"]),k=parseInt("horizontal"==n?w/2-C.offsetY-S/2-L.H-T.H/2:w-C.offsetX-L.H-T.H/2),"prev"==e?A=parseInt("horizontal"==n?x-C.offsetX-L.W-T.W/2:x/2-y/2-L.W-C.offsetY-T.W/2):(k="horizontal"==n?k:parseInt(C.offsetX-L.H-S-T.H/2),A=parseInt("horizontal"==n?C.offsetX-L.W-y-T.W/2:x/2-C.offsetY-y/2-L.W-T.W/2)),$("div.ilightbox-container",c).animate({width:y,height:S},a,o.isSwipe?"easeOutCirc":"easeInOutCirc"),c.addClass(d).css(transform,gpuAcceleration).animate({top:k,left:A,opacity:i.styles.prevOpacity},a,o.isSwipe?"easeOutCirc":"easeInOutCirc",function(){c.css(transform,""),$(".ilightbox-thumbnail",o.thumbnails).removeClass("ilightbox-active").eq(s).addClass("ilightbox-active"),t.positionThumbnails(),t.items[s]&&(o.lockWheel=t.items[s].options.mousewheel?!1:!0,o.lockSwipe=t.items[s].options.swipe?!1:!0),o.isSwipe=!1,"next"==e?(o.nextPhoto=u,o.prevPhoto=c,o.holder=l,o.nextPhoto.hide(),o.next=o.next+1,o.prev=o.current,o.current=o.current+1,i.infinite&&(o.current>o.total-1&&(o.current=0),o.current==o.total-1&&(o.next=0),0==o.current&&(o.prev=o.total-1)),t.createUI(),t.items[o.next]?t.loadContent(t.items[o.next],"next"):o.nextLock=!1):(o.prevPhoto=u,o.nextPhoto=c,o.holder=l,o.prevPhoto.hide(),o.next=o.current,o.current=o.prev,o.prev=o.current-1,i.infinite&&(o.current==o.total-1&&(o.next=0),0==o.current&&(o.prev=o.total-1)),t.createUI(),t.items[o.prev]?t.loadContent(t.items[o.prev],"prev"):o.prevLock=!1),i.linkId&&setTimeout(function(){o.hashLock=!1},55),i.infinite||(o.nextButton.add(o.prevButton).add(o.innerPrevButton).add(o.innerNextButton).removeClass("disabled"),0==o.current&&o.prevButton.add(o.innerPrevButton).addClass("disabled"),o.current>=o.total-1&&o.nextButton.add(o.innerNextButton).addClass("disabled")),t.repositionPhoto(),t.resetCycle(),"function"==typeof i.callback.onAfterChange&&i.callback.onAfterChange.call(t,t.ui)}),k="horizontal"==n?getPixel(u,"top"):parseInt("next"==e?-(w/2)-u.outerHeight():2*k),A="horizontal"==n?parseInt("next"==e?-(x/2)-u.outerWidth():2*A):getPixel(u,"left"),u.css(transform,gpuAcceleration).animate({top:k,left:A,opacity:i.styles.nextOpacity},a,o.isSwipe?"easeOutCirc":"easeInOutCirc",function(){u.css(transform,"")}).addClass(h)},setCaption:function(e,t){var o=$('<div class="ilightbox-caption"></div>');e.caption&&(o.html(e.caption),$("div.ilightbox-container",t).append(o))},normalizeSocial:function(e,t){var o=this,i=(o.vars,o.options),n=window.location.href;return $.each(e,function(o,r){if(!r)return!0;var a,s,l=o.toLowerCase();switch(l){case"facebook":a="http://www.facebook.com/share.php?v=4&src=bm&u={URL}",s="Share on Facebook";break;case"twitter":a="http://twitter.com/home?status={URL}",s="Share on Twitter";break;case"googleplus":a="https://plus.google.com/share?url={URL}",s="Share on Google+";break;case"delicious":a="http://delicious.com/post?url={URL}",s="Share on Delicious";break;case"digg":a="http://digg.com/submit?phase=2&url={URL}",s="Share on Digg";break;case"reddit":a="http://reddit.com/submit?url={URL}",s="Share on reddit"}e[o]={URL:r.URL&&absolutizeURI(n,r.URL)||i.linkId&&window.location.href||"string"!=typeof t&&n||t&&absolutizeURI(n,t)||n,source:r.source||a||r.URL&&absolutizeURI(n,r.URL)||t&&absolutizeURI(n,t),text:r.text||s||"Share on "+o,width:"undefined"==typeof r.width||isNaN(r.width)?640:parseInt(r.width),height:r.height||360}}),e},setSocial:function(e,t,o){var i=this,n=$('<div class="ilightbox-social"></div>'),r="<ul>";e=i.normalizeSocial(e,t),$.each(e,function(e,t){var o=(e.toLowerCase(),t.source.replace(/\{URL\}/g,encodeURIComponent(t.URL).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A").replace(/%20/g,"+")));r+='<li class="'+e+'"><a href="'+o+'" onclick="javascript:window.open(this.href'+(t.width<=0||t.height<=0?"":", '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height="+t.height+",width="+t.width+",left=40,top=40'")+');return false;" title="'+t.text+'" target="_blank"></a></li>'}),r+="</ul>",n.html(r),$("div.ilightbox-container",o).append(n)},fullScreenAction:function(){{var e=this;e.vars}fullScreenApi.supportsFullScreen?fullScreenApi.isFullScreen()?fullScreenApi.cancelFullScreen(document.documentElement):fullScreenApi.requestFullScreen(document.documentElement):e.doFullscreen()},doFullscreen:function(){var e=this,t=e.vars,o=getViewport(),i=e.options;if(i.fullAlone){var n=t.holder,r=e.items[t.current],a=o.width,s=o.height,l=[n,t.nextPhoto,t.prevPhoto,t.nextButton,t.prevButton,t.overlay,t.toolbar,t.thumbnails,t.loader],c=[t.nextPhoto,t.prevPhoto,t.nextButton,t.prevButton,t.loader,t.thumbnails];if(t.isInFullScreen)t.isInFullScreen=t.lockKey=t.lockWheel=t.lockSwipe=!1,t.overlay.css({opacity:e.options.overlay.opacity}),$.each(c,function(e,t){t.show()}),t.fullScreenButton.attr("title",i.text.enterFullscreen),n.data({naturalWidth:n.data("naturalWidthOld"),naturalHeight:n.data("naturalHeightOld"),naturalWidthOld:null,naturalHeightOld:null}),$.each(l,function(e,t){t.removeClass("ilightbox-fullscreen")}),"function"==typeof i.callback.onExitFullScreen&&i.callback.onExitFullScreen.call(e,e.ui);else{if(t.isInFullScreen=t.lockKey=t.lockWheel=t.lockSwipe=!0,t.overlay.css({opacity:1}),$.each(c,function(e,t){t.hide()}),t.fullScreenButton.attr("title",i.text.exitFullscreen),-1!=i.fullStretchTypes.indexOf(r.type))n.data({naturalWidthOld:n.data("naturalWidth"),naturalHeightOld:n.data("naturalHeight"),naturalWidth:a,naturalHeight:s});else{var o=r.options.fullViewPort||i.fullViewPort||"",u=a,d=s,h=n.data("naturalWidth"),p=n.data("naturalHeight");if("fill"==o.toLowerCase())d=u/h*p,s>d&&(u=s/p*h,d=s);else if("fit"==o.toLowerCase()){var f=e.getNewDimenstions(u,d,h,p,!0);u=f.width,d=f.height}else if("stretch"==o.toLowerCase())u=u,d=d;else{var g=h>u||p>d?!0:!1,f=e.getNewDimenstions(u,d,h,p,g);u=f.width,d=f.height}n.data({naturalWidthOld:n.data("naturalWidth"),naturalHeightOld:n.data("naturalHeight"),naturalWidth:u,naturalHeight:d})}$.each(l,function(e,t){t.addClass("ilightbox-fullscreen")}),"function"==typeof i.callback.onEnterFullScreen&&i.callback.onEnterFullScreen.call(e,e.ui)}}else t.isInFullScreen=t.isInFullScreen?!1:!0;e.repositionPhoto(!0)},closeAction:function(){var e=this,t=e.vars,o=e.options;$win.unbind(".iLightBox"),$doc.off(".iLightBox"),t.isInFullScreen&&fullScreenApi.cancelFullScreen(document.documentElement),$(".ilightbox-overlay, .ilightbox-holder, .ilightbox-thumbnails").off(".iLightBox"),o.hide.effect?t.overlay.stop().fadeOut(o.hide.speed,function(){t.overlay.remove(),t.BODY.removeClass("ilightbox-noscroll").off(".iLightBox")}):(t.overlay.remove(),t.BODY.removeClass("ilightbox-noscroll").off(".iLightBox"));var i=[t.toolbar,t.holder,t.nextPhoto,t.prevPhoto,t.nextButton,t.prevButton,t.loader,t.thumbnails];$.each(i,function(e,t){t.removeAttr("style").remove()}),t.dontGenerateThumbs=t.isInFullScreen=!1,window.iLightBox=null,o.linkId&&(t.hashLock=!0,removeHash(),setTimeout(function(){t.hashLock=!1},55)),"function"==typeof o.callback.onHide&&o.callback.onHide.call(e,e.ui)},repositionPhoto:function(){var e=this,t=e.vars,o=e.options,i=o.path.toLowerCase(),n=getViewport(),r=n.width,a=n.height,s=t.isInFullScreen&&o.fullAlone||t.isMobile?0:"horizontal"==i?0:t.thumbnails.outerWidth(),l=t.isMobile?t.toolbar.outerHeight():t.isInFullScreen&&o.fullAlone?0:"horizontal"==i?t.thumbnails.outerHeight():0,c=t.isInFullScreen&&o.fullAlone?r:r-o.styles.pageOffsetX,u=t.isInFullScreen&&o.fullAlone?a:a-o.styles.pageOffsetY,d="horizontal"==i?parseInt(e.items[t.next]||e.items[t.prev]?2*(o.styles.nextOffsetX+o.styles.prevOffsetX):30>=c/10?30:c/10):parseInt(30>=c/10?30:c/10)+s,h="horizontal"==i?parseInt(30>=u/10?30:u/10)+l:parseInt(e.items[t.next]||e.items[t.prev]?2*(o.styles.nextOffsetX+o.styles.prevOffsetX):30>=u/10?30:u/10),p={type:"current",width:c,height:u,item:e.items[t.current],offsetW:d,offsetH:h,thumbsOffsetW:s,thumbsOffsetH:l,animate:arguments.length,holder:t.holder};e.repositionEl(p),e.items[t.next]&&(p=$.extend(p,{type:"next",item:e.items[t.next],offsetX:o.styles.nextOffsetX,offsetY:o.styles.nextOffsetY,holder:t.nextPhoto}),e.repositionEl(p)),e.items[t.prev]&&(p=$.extend(p,{type:"prev",item:e.items[t.prev],offsetX:o.styles.prevOffsetX,offsetY:o.styles.prevOffsetY,holder:t.prevPhoto}),e.repositionEl(p));var f="horizontal"==i?{left:parseInt(c/2-t.loader.outerWidth()/2)}:{top:parseInt(u/2-t.loader.outerHeight()/2)};t.loader.css(f)},repositionEl:function(e){var t=this,o=t.vars,i=t.options,n=i.path.toLowerCase(),r="current"==e.type&&o.isInFullScreen&&i.fullAlone?e.width:e.width-e.offsetW,a="current"==e.type&&o.isInFullScreen&&i.fullAlone?e.height:e.height-e.offsetH,s=e.item,l=e.item.options,c=e.holder,u=e.offsetX||0,d=e.offsetY||0,h=e.thumbsOffsetW,p=e.thumbsOffsetH;"current"==e.type?("number"==typeof l.width&&l.width&&(r=o.isInFullScreen&&i.fullAlone&&(-1!=i.fullStretchTypes.indexOf(s.type)||l.fullViewPort||i.fullViewPort)?r:l.width>r?r:l.width),"number"==typeof l.height&&l.height&&(a=o.isInFullScreen&&i.fullAlone&&(-1!=i.fullStretchTypes.indexOf(s.type)||l.fullViewPort||i.fullViewPort)?a:l.height>a?a:l.height)):("number"==typeof l.width&&l.width&&(r=l.width>r?r:l.width),"number"==typeof l.height&&l.height&&(a=l.height>a?a:l.height)),a=parseInt(a-$(".ilightbox-inner-toolbar",c).outerHeight());var f="string"==typeof l.width&&-1!=l.width.indexOf("%")?percentToValue(parseInt(l.width.replace("%","")),e.width):c.data("naturalWidth"),g="string"==typeof l.height&&-1!=l.height.indexOf("%")?percentToValue(parseInt(l.height.replace("%","")),e.height):c.data("naturalHeight"),m="string"==typeof l.width&&-1!=l.width.indexOf("%")||"string"==typeof l.height&&-1!=l.height.indexOf("%")?{width:f,height:g}:t.getNewDimenstions(r,a,f,g),v=$.extend({},m,{});"prev"==e.type||"next"==e.type?(f=parseInt(m.width*("next"==e.type?i.styles.nextScale:i.styles.prevScale)),g=parseInt(m.height*("next"==e.type?i.styles.nextScale:i.styles.prevScale))):(f=m.width,g=m.height);var b=parseInt((getPixel(c,"padding-left")+getPixel(c,"padding-right")+getPixel(c,"border-left-width")+getPixel(c,"border-right-width"))/2),x=parseInt((getPixel(c,"padding-top")+getPixel(c,"padding-bottom")+getPixel(c,"border-top-width")+getPixel(c,"border-bottom-width")+$(".ilightbox-inner-toolbar",c).outerHeight())/2);switch(e.type){case"current":var w=parseInt(e.height/2-g/2-x-p/2),y=parseInt(e.width/2-f/2-b-h/2);break;case"next":var w=parseInt("horizontal"==n?e.height/2-d-g/2-x-p/2:e.height-u-x-p/2),y=parseInt("horizontal"==n?e.width-u-b-h/2:e.width/2-f/2-b-d-h/2);break;case"prev":var w=parseInt("horizontal"==n?e.height/2-d-g/2-x-p/2:u-x-g-p/2),y=parseInt("horizontal"==n?u-b-f-h/2:e.width/2-d-f/2-b-h/2)}c.data("offset",{top:w,left:y,newDims:v,diff:{W:b,H:x},thumbsOffset:{W:h,H:p},object:e}),e.animate>0&&i.effects.reposition?(c.css(transform,gpuAcceleration).stop().animate({top:w,left:y},i.effects.repositionSpeed,"easeOutCirc",function(){c.css(transform,"")}),$("div.ilightbox-container",c).stop().animate({width:f,height:g},i.effects.repositionSpeed,"easeOutCirc"),$("div.ilightbox-inner-toolbar",c).stop().animate({width:f},i.effects.repositionSpeed,"easeOutCirc",function(){$(this).css("overflow","visible")})):(c.css({top:w,left:y}),$("div.ilightbox-container",c).css({width:f,height:g}),$("div.ilightbox-inner-toolbar",c).css({width:f}))},resume:function(e){var t=this,o=t.vars,i=t.options;!i.slideshow.pauseTime||i.controls.slideshow&&o.total<=1||e<o.isPaused||(o.isPaused=0,o.cycleID&&(o.cycleID=clearTimeout(o.cycleID)),o.cycleID=setTimeout(function(){o.current==o.total-1?t.goTo(0):t.moveTo("next")},i.slideshow.pauseTime))},pause:function(e){{var t=this,o=t.vars;t.options}e<o.isPaused||(o.isPaused=e||100,o.cycleID&&(o.cycleID=clearTimeout(o.cycleID)))},resetCycle:function(){var e=this,t=e.vars,o=e.options;o.controls.slideshow&&t.cycleID&&!t.isPaused&&e.resume()},getNewDimenstions:function(e,t,o,i,n){var r=this;factor=e?t?min(e/o,t/i):e/o:t/i,n||(factor>r.options.maxScale?factor=r.options.maxScale:factor<r.options.minScale&&(factor=r.options.minScale));var a=r.options.keepAspectRatio?round(o*factor):e,s=r.options.keepAspectRatio?round(i*factor):t;return{width:a,height:s,ratio:factor}},setOption:function(e){var t=this;t.options=$.extend(!0,t.options,e||{}),t.refresh()},availPlugins:function(){var e=this,t=document.createElement("video");e.plugins={quicktime:parseInt(PluginDetect.getVersion("QuickTime"))>=0?!0:!1,html5H264:!(!t.canPlayType||!t.canPlayType("video/mp4").replace(/no/,"")),html5WebM:!(!t.canPlayType||!t.canPlayType("video/webm").replace(/no/,"")),html5Vorbis:!(!t.canPlayType||!t.canPlayType("video/ogg").replace(/no/,"")),html5QuickTime:!(!t.canPlayType||!t.canPlayType("video/quicktime").replace(/no/,""))}},addContent:function(e,t){var o,i=this;switch(t.type){case"video":var n=!1,r=t.videoType,a=t.options.html5video;("video/mp4"==r||"mp4"==t.ext||"m4v"==t.ext||a.h264)&&i.plugins.html5H264?(t.ext="mp4",t.URL=a.h264||t.URL):a.webm&&i.plugins.html5WebM?(t.ext="webm",t.URL=a.webm||t.URL):a.ogg&&i.plugins.html5Vorbis&&(t.ext="ogv",t.URL=a.ogg||t.URL),!i.plugins.html5H264||"video/mp4"!=r&&"mp4"!=t.ext&&"m4v"!=t.ext?!i.plugins.html5WebM||"video/webm"!=r&&"webm"!=t.ext?!i.plugins.html5Vorbis||"video/ogg"!=r&&"ogv"!=t.ext?!i.plugins.html5QuickTime||"video/quicktime"!=r&&"mov"!=t.ext&&"qt"!=t.ext||(n=!0,r="video/quicktime"):(n=!0,r="video/ogg"):(n=!0,r="video/webm"):(n=!0,r="video/mp4"),n?o=$("<video />",{width:"100%",height:"100%",preload:a.preload,autoplay:a.autoplay,poster:a.poster,controls:a.controls}).append($("<source />",{src:t.URL,type:r})):i.plugins.quicktime?(o=$("<object />",{type:"video/quicktime",pluginspage:pluginspages.quicktime}).attr({data:t.URL,width:"100%",height:"100%"}).append($("<param />",{name:"src",value:t.URL})).append($("<param />",{name:"autoplay",value:"false"})).append($("<param />",{name:"loop",value:"false"})).append($("<param />",{name:"scale",value:"tofit"})),browser.msie&&(o=QT_GenerateOBJECTText(t.URL,"100%","100%","","SCALE","tofit","AUTOPLAY","false","LOOP","false"))):o=$("<span />",{"class":"ilightbox-alert",html:i.options.errors.missingPlugin.replace("{pluginspage}",pluginspages.quicktime).replace("{type}","QuickTime")});break;case"iframe":o=$("<iframe />").attr({width:"number"==typeof t.options.width&&t.options.width&&"1"==i.options.minScale&&"1"==i.options.maxScale?t.options.width:"100%",height:"number"==typeof t.options.height&&t.options.height&&"1"==i.options.minScale&&"1"==i.options.maxScale?t.options.height:"100%",src:t.URL,frameborder:0,hspace:0,vspace:0,scrolling:supportTouch?"auto":"scroll",webkitAllowFullScreen:"",mozallowfullscreen:"",allowFullScreen:""});break;case"inline":o=$('<div class="ilightbox-wrapper"></div>').html($(t.URL).clone(!0));break;case"html":var o,s=t.URL;if(s[0].nodeName)o=$('<div class="ilightbox-wrapper"></div>').html(s);else{var l=$(t.URL),c=l.selector?$("<div>"+l+"</div>"):l;o=$('<div class="ilightbox-wrapper"></div>').html(c)}}return $("div.ilightbox-container",e).empty().html(o),"video"===o[0].tagName.toLowerCase()&&browser.webkit&&setTimeout(function(){var e=o[0].currentSrc+"?"+floor(3e4*random());o[0].currentSrc=e,o[0].src=e}),o},ogpRecognition:function(e,t){var o=this,i=e.URL;o.showLoader(),doAjax(i,function(e){if(o.hideLoader(),e){var i=new Object;if(i.length=!1,i.url=e.url,200==e.status){var n=e.results,r=n.type,a=n.source;i.source=a.src,i.width=a.width&&parseInt(a.width)||0,i.height=a.height&&parseInt(a.height)||0,i.type=r,i.thumbnail=a.thumbnail||n.images[0],i.html5video=n.html5video||{},i.length=!0,-1!=a.type.indexOf("video/")?i.type="video":-1!=a.type.indexOf("/html")?i.type="iframe":-1!=a.type.indexOf("image/")&&(i.type="image")}else if("undefined"!=typeof e.response)throw e.response;t.call(this,i.length?i:!1)}})},hashChangeHandler:function(e){var t=this,o=t.vars,i=t.options,n=e||window.location.href,r=parseURI(n).hash,a=r.split("/"),s=a[1];if(!(o.hashLock||"#"+i.linkId!=a[0]&&r.length>1))if(s){var l=a[1]||0;if(t.items[l]){var c=$(".ilightbox-overlay");c.length&&c.attr("linkid")==i.linkId?t.goTo(l):t.itemsObject[l].trigger(supportTouch?"itap":"click")}else{var c=$(".ilightbox-overlay");c.length&&t.closeAction()}}else{var c=$(".ilightbox-overlay");c.length&&t.closeAction()}}},$.fn.iLightBox=function(){var e=arguments,t=$.isPlainObject(e[0])?e[0]:e[1],o=$.isArray(e[0])||"string"==typeof e[0]?e[0]:e[1];t||(t={});var i=$.extend(!0,{attr:"href",path:"vertical",skin:"dark",linkId:!1,infinite:!1,startFrom:0,randomStart:!1,keepAspectRatio:!0,maxScale:1,minScale:.2,innerToolbar:!1,smartRecognition:!1,mobileOptimizer:!0,fullAlone:!0,fullViewPort:null,fullStretchTypes:"video",overlay:{blur:!0,opacity:.85},controls:{arrows:!1,slideshow:!1,toolbar:!0,fullscreen:!0,thumbnail:!0,keyboard:!0,mousewheel:!0,swipe:!0},keyboard:{left:!0,right:!0,up:!0,down:!0,esc:!0,shift_enter:!0},show:{effect:!0,speed:300,title:!0},hide:{effect:!0,speed:300},caption:{start:!0,show:"mouseenter",hide:"mouseleave"},social:{start:!0,show:"mouseenter",hide:"mouseleave",buttons:!1},styles:{pageOffsetX:0,pageOffsetY:0,nextOffsetX:45,nextOffsetY:0,nextOpacity:1,nextScale:1,prevOffsetX:45,prevOffsetY:0,prevOpacity:1,prevScale:1},thumbnails:{maxWidth:120,maxHeight:80,normalOpacity:1,activeOpacity:.6},effects:{reposition:!0,repositionSpeed:200,switchSpeed:500,loadedFadeSpeed:180,fadeSpeed:200},slideshow:{pauseTime:5e3,pauseOnHover:!1,startPaused:!0},text:{close:"Press Esc to close",enterFullscreen:"Enter Fullscreen (Shift+Enter)",exitFullscreen:"Exit Fullscreen (Shift+Enter)",slideShow:"Slideshow",next:"Next",previous:"Previous"},errors:{loadImage:"An error occurred when trying to load photo.",loadContents:"An error occurred when trying to load contents.",missingPlugin:"The content your are attempting to view requires the <a href='{pluginspage}' target='_blank'>{type} plugin</a>."},ajaxSetup:{url:"",beforeSend:function(){},cache:!1,complete:function(){},crossDomain:!1,error:function(){},success:function(){},global:!0,ifModified:!1,username:null,password:null,type:"GET"},callback:{}},t),n=$.isArray(o)||"string"==typeof o?!0:!1;if(o=$.isArray(o)?o:new Array,"string"==typeof e[0]&&(o[0]=e[0]),version_compare($.fn.jquery,"1.8",">=")){var r=new iLightBox($(this),i,o,n);return{close:function(){r.closeAction()},fullscreen:function(){r.fullScreenAction()},moveNext:function(){r.moveTo("next")},movePrev:function(){r.moveTo("prev")},goTo:function(e){r.goTo(e)},refresh:function(){r.refresh()},reposition:function(){arguments.length>0?r.repositionPhoto(!0):r.repositionPhoto()},setOption:function(e){r.setOption(e)},destroy:function(){r.closeAction(),r.dispatchItemsEvents()}}}throw"The jQuery version that was loaded is too old. iLightBox requires jQuery 1.8+"},$.iLightBox=function(){return $.fn.iLightBox(arguments[0],arguments[1])},$.extend($.easing,{easeInCirc:function(e,t,o,i,n){return-i*(sqrt(1-(t/=n)*t)-1)+o},easeOutCirc:function(e,t,o,i,n){return i*sqrt(1-(t=t/n-1)*t)+o},easeInOutCirc:function(e,t,o,i,n){return(t/=n/2)<1?-i/2*(sqrt(1-t*t)-1)+o:i/2*(sqrt(1-(t-=2)*t)+1)+o}}),function(){$.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(){});var e={startEvent:"touchstart.iTap",endEvent:"touchend.iTap"};$.event.special.itap={setup:function(){var t,o,i=this,n=$(this);n.bind(e.startEvent,function(){t=getScrollXY(),n.one(e.endEvent,function(e){o=getScrollXY();var n=e||window.event;e=$.event.fix(n),e.type="itap",t&&o&&t.x==o.x&&t.y==o.y&&($.event.dispatch||$.event.handle).call(i,e),t=o=undefined})})},teardown:function(){$(this).unbind(e.startEvent)}}}(),function(){if(fullScreenApi={supportsFullScreen:!1,isFullScreen:function(){return!1},requestFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",prefix:""},browserPrefixes="webkit moz o ms khtml".split(" "),"undefined"!=typeof document.cancelFullScreen)fullScreenApi.supportsFullScreen=!0;else for(var e=0,t=browserPrefixes.length;t>e;e++)if(fullScreenApi.prefix=browserPrefixes[e],"undefined"!=typeof document[fullScreenApi.prefix+"CancelFullScreen"]){fullScreenApi.supportsFullScreen=!0;break}fullScreenApi.supportsFullScreen&&(fullScreenApi.fullScreenEventName=fullScreenApi.prefix+"fullscreenchange",fullScreenApi.isFullScreen=function(){switch(this.prefix){case"":return document.fullScreen;case"webkit":return document.webkitIsFullScreen;default:return document[this.prefix+"FullScreen"]}},fullScreenApi.requestFullScreen=function(e){return""===this.prefix?e.requestFullScreen():e[this.prefix+"RequestFullScreen"]()},fullScreenApi.cancelFullScreen=function(){return""===this.prefix?document.cancelFullScreen():document[this.prefix+"CancelFullScreen"]()})}(),function(){function e(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}}var t=e(navigator.userAgent);browser={},t.browser&&(browser[t.browser]=!0,browser.version=t.version),browser.chrome?browser.webkit=!0:browser.webkit&&(browser.safari=!0)}(),function(){function e(e){for(var i=0,n=t.length;n>i;i++){var r=t[i]?t[i]+e.charAt(0).toUpperCase()+e.slice(1):e;if(o.style[r]!==undefined)return r}}var t=["","webkit","moz","ms","o"],o=document.createElement("div");transform=e("transform")||"",gpuAcceleration=e("perspective")?"translateZ(0) ":""}();var PluginDetect={version:"0.7.9",name:"PluginDetect",handler:function(e,t,o){return function(){e(t,o)}},openTag:"<",isDefined:function(e){return"undefined"!=typeof e},isArray:function(e){return/array/i.test(Object.prototype.toString.call(e))},isFunc:function(e){return"function"==typeof e},isString:function(e){return"string"==typeof e},isNum:function(e){return"number"==typeof e},isStrNum:function(e){return"string"==typeof e&&/\d/.test(e)},getNumRegx:/[\d][\d\.\_,-]*/,splitNumRegx:/[\.\_,-]/g,getNum:function(e,t){var o=this,i=o.isStrNum(e)?(o.isDefined(t)?new RegExp(t):o.getNumRegx).exec(e):null;return i?i[0]:null},compareNums:function(e,t,o){var i,n,r,a=this,s=parseInt;if(a.isStrNum(e)&&a.isStrNum(t)){if(a.isDefined(o)&&o.compareNums)return o.compareNums(e,t);for(i=e.split(a.splitNumRegx),n=t.split(a.splitNumRegx),r=0;r<min(i.length,n.length);r++){if(s(i[r],10)>s(n[r],10))return 1;if(s(i[r],10)<s(n[r],10))return-1}}return 0},formatNum:function(e,t){var o,i,n=this;if(!n.isStrNum(e))return null;for(n.isNum(t)||(t=4),t--,i=e.replace(/\s/g,"").split(n.splitNumRegx).concat(["0","0","0","0"]),o=0;4>o;o++)/^(0+)(.+)$/.test(i[o])&&(i[o]=RegExp.$2),(o>t||!/\d/.test(i[o]))&&(i[o]="0");return i.slice(0,4).join(",")},$$hasMimeType:function(e){return function(t){if(!e.isIE&&t){var o,i,n,r=e.isArray(t)?t:e.isString(t)?[t]:[];for(n=0;n<r.length;n++)if(e.isString(r[n])&&/[^\s]/.test(r[n])&&(o=navigator.mimeTypes[r[n]],i=o?o.enabledPlugin:0,i&&(i.name||i.description)))return o}return null}},findNavPlugin:function(e,t,o){var i,n,r,a=this,s=new RegExp(e,"i"),l=!a.isDefined(t)||t?/\d/:0,c=o?new RegExp(o,"i"):0,u=navigator.plugins,d="";for(i=0;i<u.length;i++)if(r=u[i].description||d,n=u[i].name||d,(s.test(r)&&(!l||l.test(RegExp.leftContext+RegExp.rightContext))||s.test(n)&&(!l||l.test(RegExp.leftContext+RegExp.rightContext)))&&(!c||!c.test(r)&&!c.test(n)))return u[i];return null},getMimeEnabledPlugin:function(e,t,o){var i,n,r,a,s=this,l=new RegExp(t,"i"),c="",u=o?new RegExp(o,"i"):0,d=s.isString(e)?[e]:e;for(a=0;a<d.length;a++)if((i=s.hasMimeType(d[a]))&&(i=i.enabledPlugin)&&(r=i.description||c,n=i.name||c,(l.test(r)||l.test(n))&&(!u||!u.test(r)&&!u.test(n))))return i;return 0},getPluginFileVersion:function(e,t){var o,i,n,r,a=this,s=-1;if(a.OS>2||!e||!e.version||!(o=a.getNum(e.version)))return t;if(!t)return o;for(o=a.formatNum(o),t=a.formatNum(t),i=t.split(a.splitNumRegx),n=o.split(a.splitNumRegx),r=0;r<i.length;r++){if(s>-1&&r>s&&"0"!=i[r])return t;if(n[r]!=i[r]&&(-1==s&&(s=r),"0"!=i[r]))return t}return o},AXO:window.ActiveXObject,getAXO:function(e){var t=null,o=this;try{t=new o.AXO(e)}catch(i){}return t},convertFuncs:function(e){var t,o,i=/^[\$][\$]/;for(t in e)if(i.test(t))try{o=t.slice(2),o.length>0&&!e[o]&&(e[o]=e[t](e),delete e[t])}catch(n){}},initObj:function(e,t,o){var i,n;if(e){if(1==e[t[0]]||o)for(i=0;i<t.length;i+=2)e[t[i]]=t[i+1];for(i in e)n=e[i],n&&1==n[t[0]]&&this.initObj(n,t)}},initScript:function(){var e,t=this,o=navigator,i=document,n=o.userAgent||"",r=o.vendor||"",a=o.platform||"",s=o.product||"";t.initObj(t,["$",t]);for(e in t.Plugins)t.Plugins[e]&&t.initObj(t.Plugins[e],["$",t,"$$",t.Plugins[e]],1);if(t.convertFuncs(t),t.OS=100,a){var l=["Win",1,"Mac",2,"Linux",3,"FreeBSD",4,"iPhone",21.1,"iPod",21.2,"iPad",21.3,"Win.*CE",22.1,"Win.*Mobile",22.2,"Pocket\\s*PC",22.3,"",100];for(e=l.length-2;e>=0;e-=2)if(l[e]&&new RegExp(l[e],"i").test(a)){t.OS=l[e+1];break}}if(t.head=i.getElementsByTagName("head")[0]||i.getElementsByTagName("body")[0]||i.body||null,t.isIE=new Function("return/*@cc_on!@*/!1")(),t.verIE=t.isIE&&/MSIE\s*(\d+\.?\d*)/i.test(n)?parseFloat(RegExp.$1,10):null,t.verIEfull=null,t.docModeIE=null,t.isIE){var c,u=document.createElement("div");try{u.style.behavior="url(#default#clientcaps)",t.verIEfull=u.getComponentVersion("{89820200-ECBD-11CF-8B85-00AA005B4383}","componentid").replace(/,/g,".")}catch(d){}c=parseFloat(t.verIEfull||"0",10),t.docModeIE=i.documentMode||(/back/i.test(i.compatMode||"")?5:c)||t.verIE,t.verIE=c||t.docModeIE}if(t.ActiveXEnabled=!1,t.isIE){var e,h=["Msxml2.XMLHTTP","Msxml2.DOMDocument","Microsoft.XMLDOM","Shockwave§.ShockwaveFlash","TDCCtl.TDCCtl","Shell.UIHelper","Scripting.Dictionary","wmplayer.ocx"];for(e=0;e<h.length;e++)if(t.getAXO(h[e])){t.ActiveXEnabled=!0;break}}t.isGecko=/Gecko/i.test(s)&&/Gecko\s*\/\s*\d/i.test(n),t.verGecko=t.isGecko?t.formatNum(/rv\s*\:\s*([\.\,\d]+)/i.test(n)?RegExp.$1:"0.9"):null,t.isChrome=/Chrome\s*\/\s*(\d[\d\.]*)/i.test(n),t.verChrome=t.isChrome?t.formatNum(RegExp.$1):null,t.isSafari=(/Apple/i.test(r)||!r&&!t.isChrome)&&/Safari\s*\/\s*(\d[\d\.]*)/i.test(n),t.verSafari=t.isSafari&&/Version\s*\/\s*(\d[\d\.]*)/i.test(n)?t.formatNum(RegExp.$1):null,t.isOpera=/Opera\s*[\/]?\s*(\d+\.?\d*)/i.test(n),t.verOpera=t.isOpera?parseFloat(RegExp.$1,10):null,t.addWinEvent("load",t.handler(t.runWLfuncs,t))},init:function(e){var t,e,o=this,i={status:-3,plugin:0};return o.isString(e)?1==e.length?(o.getVersionDelimiter=e,i):(e=e.toLowerCase().replace(/\s/g,""),t=o.Plugins[e],t&&t.getVersion?(i.plugin=t,o.isDefined(t.installed)||(t.installed=null,t.version=null,t.version0=null,t.getVersionDone=null,t.pluginName=e),o.garbage=!1,o.isIE&&!o.ActiveXEnabled&&"java"!==e?(i.status=-2,i):(i.status=1,i)):i):i},fPush:function(e,t){var o=this;o.isArray(t)&&(o.isFunc(e)||o.isArray(e)&&e.length>0&&o.isFunc(e[0]))&&t.push(e)},callArray:function(e){var t,o=this;if(o.isArray(e))for(t=0;t<e.length;t++){if(null===e[t])return;o.call(e[t]),e[t]=null}},call:function(e){var t=this,o=t.isArray(e)?e.length:-1;
o>0&&t.isFunc(e[0])?e[0](t,o>1?e[1]:0,o>2?e[2]:0,o>3?e[3]:0):t.isFunc(e)&&e(t)},getVersionDelimiter:",",$$getVersion:function(e){return function(t,o,i){var n,r,a=e.init(t);return a.status<0?null:(n=a.plugin,1!=n.getVersionDone&&(n.getVersion(null,o,i),null===n.getVersionDone&&(n.getVersionDone=1)),e.cleanup(),r=n.version||n.version0,r=r?r.replace(e.splitNumRegx,e.getVersionDelimiter):r)}},cleanup:function(){var e=this;e.garbage&&e.isDefined(window.CollectGarbage)&&window.CollectGarbage()},isActiveXObject:function(e,t){var o=this,i=!1,n='<object width="1" height="1" style="display:none" '+e.getCodeBaseVersion(t)+">"+e.HTML+o.openTag+"/object>";if(!o.head)return i;o.head.insertBefore(document.createElement("object"),o.head.firstChild),o.head.firstChild.outerHTML=n;try{o.head.firstChild.classid=e.classID}catch(r){}try{o.head.firstChild.object&&(i=!0)}catch(r){}try{i&&o.head.firstChild.readyState<4&&(o.garbage=!0)}catch(r){}return o.head.removeChild(o.head.firstChild),i},codebaseSearch:function(e,t){var o=this;if(!o.ActiveXEnabled||!e)return null;e.BIfuncs&&e.BIfuncs.length&&null!==e.BIfuncs[e.BIfuncs.length-1]&&o.callArray(e.BIfuncs);var i,n=e.SEARCH;if(o.isStrNum(t))return n.match&&n.min&&o.compareNums(t,n.min)<=0?!0:n.match&&n.max&&o.compareNums(t,n.max)>=0?!1:(i=o.isActiveXObject(e,t),i&&(!n.min||o.compareNums(t,n.min)>0)&&(n.min=t),i||n.max&&!(o.compareNums(t,n.max)<0)||(n.max=t),i);var r,a,s,l,c,u=[0,0,0,0],d=[].concat(n.digits),h=n.min?1:0,p=function(t,i){var n=[].concat(u);return n[t]=i,o.isActiveXObject(e,n.join(","))};if(n.max){for(l=n.max.split(o.splitNumRegx),r=0;r<l.length;r++)l[r]=parseInt(l[r],10);l[0]<d[0]&&(d[0]=l[0])}if(n.min){for(c=n.min.split(o.splitNumRegx),r=0;r<c.length;r++)c[r]=parseInt(c[r],10);c[0]>u[0]&&(u[0]=c[0])}if(c&&l)for(r=1;r<c.length&&c[r-1]==l[r-1];r++)l[r]<d[r]&&(d[r]=l[r]),c[r]>u[r]&&(u[r]=c[r]);if(n.max)for(r=1;r<d.length;r++)if(l[r]>0&&0==d[r]&&d[r-1]<n.digits[r-1]){d[r-1]+=1;break}for(r=0;r<d.length;r++){for(s={},a=0;20>a&&!(d[r]-u[r]<1)&&(i=round((d[r]+u[r])/2),!s["a"+i]);a++)s["a"+i]=1,p(r,i)?(u[r]=i,h=1):d[r]=i;if(d[r]=u[r],!h&&p(r,u[r])&&(h=1),!h)break}return h?u.join(","):null},addWinEvent:function(e,t){var o,i=this,n=window;i.isFunc(t)&&(n.addEventListener?n.addEventListener(e,t,!1):n.attachEvent?n.attachEvent("on"+e,t):(o=n["on"+e],n["on"+e]=i.winHandler(t,o)))},winHandler:function(e,t){return function(){e(),"function"==typeof t&&t()}},WLfuncs0:[],WLfuncs:[],runWLfuncs:function(e){e.winLoaded=!0,e.callArray(e.WLfuncs0),e.callArray(e.WLfuncs),e.onDoneEmptyDiv&&e.onDoneEmptyDiv()},winLoaded:!1,$$onWindowLoaded:function(e){return function(t){e.winLoaded?e.call(t):e.fPush(t,e.WLfuncs)}},div:null,divID:"plugindetect",divWidth:50,pluginSize:1,emptyDiv:function(){var e,t,o,i,n,r=this;if(r.div&&r.div.childNodes)for(e=r.div.childNodes.length-1;e>=0;e--){if(o=r.div.childNodes[e],o&&o.childNodes)for(t=o.childNodes.length-1;t>=0;t--){n=o.childNodes[t];try{o.removeChild(n)}catch(a){}}if(o)try{r.div.removeChild(o)}catch(a){}}if(r.div||(i=document.getElementById(r.divID),i&&(r.div=i)),r.div&&r.div.parentNode){try{r.div.parentNode.removeChild(r.div)}catch(a){}r.div=null}},DONEfuncs:[],onDoneEmptyDiv:function(){var e,t,o=this;if(o.winLoaded&&(!o.WLfuncs||!o.WLfuncs.length||null===o.WLfuncs[o.WLfuncs.length-1])){for(e in o)if(t=o[e],t&&t.funcs){if(3==t.OTF)return;if(t.funcs.length&&null!==t.funcs[t.funcs.length-1])return}for(e=0;e<o.DONEfuncs.length;e++)o.callArray(o.DONEfuncs);o.emptyDiv()}},getWidth:function(e){if(e){var t=e.scrollWidth||e.offsetWidth,o=this;if(o.isNum(t))return t}return-1},getTagStatus:function(e,t,o,i){var n=this,r=e.span,a=n.getWidth(r),s=o.span,l=n.getWidth(s),c=t.span,u=n.getWidth(c);if(!(r&&s&&c&&n.getDOMobj(e)))return-2;if(u>l||0>a||0>l||0>u||u<=n.pluginSize||n.pluginSize<1)return 0;if(a>=u)return-1;try{if(a==n.pluginSize&&(!n.isIE||4==n.getDOMobj(e).readyState)){if(!e.winLoaded&&n.winLoaded)return 1;if(e.winLoaded&&n.isNum(i)&&(n.isNum(e.count)||(e.count=i),i-e.count>=10))return 1}}catch(d){}return 0},getDOMobj:function(e,t){var o=this,i=e?e.span:0,n=i&&i.firstChild?1:0;try{n&&t&&o.div.focus()}catch(r){}return n?i.firstChild:null},setStyle:function(e,t){var o,i=e.style;if(i&&t)for(o=0;o<t.length;o+=2)try{i[t[o]]=t[o+1]}catch(n){}},insertDivInBody:function(e,t){var o=this,i="pd33993399",n=null,r=t?window.top.document:window.document,a=r.getElementsByTagName("body")[0]||r.body;if(!a)try{r.write('<div id="'+i+'">.'+o.openTag+"/div>"),n=r.getElementById(i)}catch(s){}a=r.getElementsByTagName("body")[0]||r.body,a&&(a.insertBefore(e,a.firstChild),n&&a.removeChild(n))},insertHTML:function(e,t,o,i){var n,r,a,s=document,l=this,c=s.createElement("span"),u=["outlineStyle","none","borderStyle","none","padding","0px","margin","0px","visibility","visible"],d="outline-style:none;border-style:none;padding:0px;margin:0px;visibility:visible;";if(l.isDefined(i)||(i=""),l.isString(e)&&/[^\s]/.test(e)){for(e=e.toLowerCase().replace(/\s/g,""),n=l.openTag+e+' width="'+l.pluginSize+'" height="'+l.pluginSize+'" ',n+='style="'+d+'display:inline;" ',r=0;r<t.length;r+=2)/[^\s]/.test(t[r+1])&&(n+=t[r]+'="'+t[r+1]+'" ');for(n+=">",r=0;r<o.length;r+=2)/[^\s]/.test(o[r+1])&&(n+=l.openTag+'param name="'+o[r]+'" value="'+o[r+1]+'" />');n+=i+l.openTag+"/"+e+">"}else n=i;if(l.div||(a=s.getElementById(l.divID),a?l.div=a:(l.div=s.createElement("div"),l.div.id=l.divID),l.setStyle(l.div,u.concat(["width",l.divWidth+"px","height",l.pluginSize+3+"px","fontSize",l.pluginSize+3+"px","lineHeight",l.pluginSize+3+"px","verticalAlign","baseline","display","block"])),a||(l.setStyle(l.div,["position","absolute","right","0px","top","0px"]),l.insertDivInBody(l.div))),l.div&&l.div.parentNode){l.setStyle(c,u.concat(["fontSize",l.pluginSize+3+"px","lineHeight",l.pluginSize+3+"px","verticalAlign","baseline","display","inline"]));try{c.innerHTML=n}catch(h){}try{l.div.appendChild(c)}catch(h){}return{span:c,winLoaded:l.winLoaded,tagName:e,outerHTML:n}}return{span:null,winLoaded:l.winLoaded,tagName:"",outerHTML:n}},Plugins:{quicktime:{mimeType:["video/quicktime","application/x-quicktimeplayer","image/x-macpaint","image/x-quicktime"],progID:"QuickTimeCheckObject.QuickTimeCheck.1",progID0:"QuickTime.QuickTime",classID:"clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B",minIEver:7,HTML:'<param name="src" value="" /><param name="controller" value="false" />',getCodeBaseVersion:function(e){return'codebase="#version='+e+'"'},SEARCH:{min:0,max:0,match:0,digits:[16,128,128,0]},getVersion:function(e){var t,o=this,i=o.$,n=null,r=null;if(i.isIE){if(i.isStrNum(e)&&(t=e.split(i.splitNumRegx),t.length>3&&parseInt(t[3],10)>0&&(t[3]="9999"),e=t.join(",")),i.isStrNum(e)&&i.verIE>=o.minIEver&&o.canUseIsMin()>0)return o.installed=o.isMin(e),void(o.getVersionDone=0);o.getVersionDone=1,!n&&i.verIE>=o.minIEver&&(n=o.CDBASE2VER(i.codebaseSearch(o))),n||(r=i.getAXO(o.progID),r&&r.QuickTimeVersion&&(n=r.QuickTimeVersion.toString(16),n=parseInt(n.charAt(0),16)+"."+parseInt(n.charAt(1),16)+"."+parseInt(n.charAt(2),16)))}else i.hasMimeType(o.mimeType)&&(r=3!=i.OS?i.findNavPlugin("QuickTime.*Plug-?in",0):null,r&&r.name&&(n=i.getNum(r.name)));o.installed=n?1:r?0:-1,o.version=i.formatNum(n,3)},cdbaseUpper:["7,60,0,0","0,0,0,0"],cdbaseLower:["7,50,0,0",null],cdbase2ver:[function(e,t){var o=t.split(e.$.splitNumRegx);return[o[0],o[1].charAt(0),o[1].charAt(1),o[2]].join(",")},null],CDBASE2VER:function(e){var t,o=this,i=o.$,n=o.cdbaseUpper,r=o.cdbaseLower;if(e)for(e=i.formatNum(e),t=0;t<n.length;t++)if(n[t]&&i.compareNums(e,n[t])<0&&r[t]&&i.compareNums(e,r[t])>=0&&o.cdbase2ver[t])return o.cdbase2ver[t](o,e);return e},canUseIsMin:function(){var e,t=this,o=t.$,i=t.canUseIsMin,n=t.cdbaseUpper,r=t.cdbaseLower;if(!i.value)for(i.value=-1,e=0;e<n.length;e++){if(n[e]&&o.codebaseSearch(t,n[e])){i.value=1;break}if(r[e]&&o.codebaseSearch(t,r[e])){i.value=-1;break}}return t.SEARCH.match=1==i.value?1:0,i.value},isMin:function(e){var t=this,o=t.$;return o.codebaseSearch(t,e)?.7:-1}},zz:0}};PluginDetect.initScript();var gArgCountErr='The "%%" function requires an even number of arguments.\nArguments should be in the form "atttributeName", "attributeValue", ...',gTagAttrs=null,gQTGeneratorVersion=1;!function(){function e(e){return e=e||location.href,"#"+e.replace(/^[^#]*#?(.*)$/,"$1")}var t,o=document,i=$.event.special,n=o.documentMode,r="oniLightBoxHashChange"in window&&(void 0===n||n>7);$.fn.iLightBoxHashChange=function(e){return e?this.bind("iLightBoxHashChange",e):this.trigger("iLightBoxHashChange")},$.fn.iLightBoxHashChange.delay=50,i.iLightBoxHashChange=$.extend(i.iLightBoxHashChange,{setup:function(){return r?!1:void $(t.start)},teardown:function(){return r?!1:void $(t.stop)}}),t=function(){function t(){var o=e(),n=c(a);o!==a?(l(a=o,n),$(window).trigger("iLightBoxHashChange")):n!==a&&(location.href=location.href.replace(/#.*/,"")+n),i=setTimeout(t,$.fn.iLightBoxHashChange.delay)}var i,n={},a=e(),s=function(e){return e},l=s,c=s;return n.start=function(){i||t()},n.stop=function(){i&&clearTimeout(i),i=void 0},browser.msie&&!r&&function(){var i,r;n.start=function(){i||(r=(r=$.fn.iLightBoxHashChange.src)&&r+e(),i=$('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){r||l(e()),t()}).attr("src",r||"javascript:0").insertAfter("body")[0].contentWindow,o.onpropertychange=function(){try{"title"===event.propertyName&&(i.document.title=o.title)}catch(e){}})},n.stop=s,c=function(){return e(i.location.href)},l=function(e,t){var n=i.document,r=$.fn.iLightBoxHashChange.domain;e!==t&&(n.title=o.title,n.open(),r&&n.write('<script>document.domain="'+r+'"</script>'),n.close(),i.location.hash=e)}}(),n}()}(),Array.prototype.filter||(Array.prototype.filter=function(e){if(null==this)throw new TypeError;var t=Object(this),o=t.length>>>0;if("function"!=typeof e)throw new TypeError;for(var i=[],n=arguments[1],r=0;o>r;r++)if(r in t){var a=t[r];e.call(n,a,r,t)&&i.push(a)}return i}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var o;if(null==this)throw new TypeError('"this" is null or not defined');var i=Object(this),n=i.length>>>0;if(0===n)return-1;var r=+t||0;if(1/0===abs(r)&&(r=0),r>=n)return-1;for(o=max(r>=0?r:n-abs(r),0);n>o;){if(o in i&&i[o]===e)return o;o++}return-1}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(e){if(null==this)throw new TypeError;var t=Object(this),o=t.length>>>0;if(0===o)return-1;var i=o;arguments.length>1&&(i=Number(arguments[1]),i!=i?i=0:0!=i&&i!=1/0&&i!=-(1/0)&&(i=(i>0||-1)*floor(abs(i))));for(var n=i>=0?min(i,o-1):o-abs(i);n>=0;n--)if(n in t&&t[n]===e)return n;return-1})}(jQuery,this);