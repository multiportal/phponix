(function(){function b(){this.eventHandlers={}}b.prototype.getOS=function(){var a=["Macintosh","MacIntel","MacPPC","Mac68K"],b=["Win32","Win64","Win16","Windows","WinCE"],e=["iPhone","iPad","iPod"],d=navigator.platform,c="";d&&(-1!==a.indexOf(d)?c="Mac":-1!==e.indexOf(d)?c="IOS":-1!==b.indexOf(d)?c="Windows":/Linux/.test(d)||/Android/.test(d)?c="Linux":c||(c="OtherOS"));return c};b.prototype.isDesktop=function(){return-1===navigator.userAgent.indexOf("Mobi")};b.prototype.outputToConsole=function(a,
b){if((embedded_svc.settings&&embedded_svc.settings.devMode||embedded_svc.menu&&embedded_svc.menu.settings.devMode)&&console&&console[a])console[a]("[Embedded-Service] "+(Array.isArray(b)?b.join(", "):b))};b.prototype.log=function(){this.outputToConsole("log",[].slice.apply(arguments))};b.prototype.error=function(a){a?this.outputToConsole("error",a):this.outputToConsole("error","unspecified error.")};b.prototype.warning=function(a){a?this.outputToConsole("warn","Warning: "+a):this.outputToConsole("warn",
"anonymous warning.")};b.prototype.deprecated=function(a,b){this.warning(a+" is deprecated in version "+Number(b).toFixed(1)+" and will be removed in version "+(Number(b)+1).toFixed(1))};b.prototype.isOrganizationId=function(a){return"00D"===this.getKeyPrefix(a)};b.prototype.getKeyPrefix=function(a){if(this.isValidEntityId(a))return a.substr(0,3)};b.prototype.isValidEntityId=function(a){return"string"===typeof a&&(18===a.length||15===a.length)};b.prototype.addEventHandler=function(a,b){a=a.toLowerCase();
this.eventHandlers[a]||(this.eventHandlers[a]=[]);this.eventHandlers[a].push(b)};b.prototype.fireEvent=function(a,b,e){a=this.eventHandlers[a.toLowerCase()];var d=[],c=e;!e||e instanceof Array||(c=[e]);a&&a.forEach(function(a){d.push(a.apply(void 0,c))});return b?b(d):!0};window.embedded_svc.utils=new b})();
